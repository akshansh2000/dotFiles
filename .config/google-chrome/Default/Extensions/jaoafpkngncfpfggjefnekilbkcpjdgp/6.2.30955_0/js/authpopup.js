class AuthPopup{constructor(){this.storage=STORAGE,chrome.storage.local.get(this.storage,a=>{this.storage=a}),chrome.runtime.sendMessage({action:"getAuthError"},a=>{a&&a.responseJSON&&(a.responseJSON.msg&&(document.getElementById("err_message").innerText=a.responseJSON.msg),a.responseJSON.link&&a.responseJSON.link.has?(document.getElementById("err_link").innerText=a.responseJSON.link.title,document.getElementById("err_link").href=a.responseJSON.link.uri,document.getElementById("err_link").classList.remove("hidden")):document.getElementById("err_link").classList.add("hidden"))})}}const ap=new AuthPopup;